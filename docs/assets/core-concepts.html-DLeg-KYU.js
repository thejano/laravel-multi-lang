import{_ as t,c as e,a as p,b as l,d as n,e as o,w as i,r as c,o as r}from"./app-_Y2zvlPS.js";const u={};function d(k,s){const a=c("RouteLink");return r(),e("div",null,[s[3]||(s[3]=p(`<h1 id="core-concepts" tabindex="-1"><a class="header-anchor" href="#core-concepts"><span>Core Concepts</span></a></h1><p>This guide introduces the foundational pieces that every Laravel Multi-Lang project relies on: configuration, the <code>Translatable</code> trait, attribute behaviour, and helper utilities.</p><hr><h2 id="configuration-checkpoints" tabindex="-1"><a class="header-anchor" href="#configuration-checkpoints"><span>Configuration checkpoints</span></a></h2><ol><li><strong>Composer install</strong><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">composer</span> require thejano/laravel-multi-lang</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>Publish assets (optional)</strong><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">php artisan vendor:publish <span class="token parameter variable">--tag</span><span class="token operator">=</span>multi-lang-config</span>
<span class="line">php artisan vendor:publish <span class="token parameter variable">--tag</span><span class="token operator">=</span>multi-lang-migrations</span>
<span class="line">php artisan migrate</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><strong>App locales</strong><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php"><pre><code class="language-php"><span class="line"><span class="token string single-quoted-string">&#39;locale&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;en&#39;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token string single-quoted-string">&#39;fallback_locale&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;en&#39;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token string single-quoted-string">&#39;supported_locales&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;en&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;ckb&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;ar&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><code>supported_locales</code> is optional but recommended—it keeps helper outputs consistent and avoids typos.</li></ol><hr><h2 id="the-translatable-trait" tabindex="-1"><a class="header-anchor" href="#the-translatable-trait"><span>The <code>Translatable</code> trait</span></a></h2><p>Attach the trait to any Eloquent model you want to localise:</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php"><pre><code class="language-php"><span class="line"><span class="token keyword">use</span> <span class="token package">TheJano<span class="token punctuation">\\</span>MultiLang<span class="token punctuation">\\</span>Traits<span class="token punctuation">\\</span>Translatable</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name-definition class-name">Post</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">use</span> <span class="token package">Translatable</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token variable">$fillable</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;title&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;content&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;description&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword type-declaration">array</span> <span class="token variable">$translatableFields</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;title&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;content&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;description&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>translatableFields</code> is optional. If omitted, the package treats every column as translatable—but declaring the list protects you against accidental writes.</li><li>Translations live in a polymorphic <code>translations</code> table; the trait handles relationships automatically.</li></ul><hr><h2 id="reading-and-writing-translations" tabindex="-1"><a class="header-anchor" href="#reading-and-writing-translations"><span>Reading and writing translations</span></a></h2><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php"><pre><code class="language-php"><span class="line"><span class="token variable">$post</span> <span class="token operator">=</span> <span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;title&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Original Title&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token function">setTranslation</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;title&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;ناونیشان&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;ckb&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// Single locale</span></span>
<span class="line"><span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token function">setTranslations</span><span class="token punctuation">(</span><span class="token punctuation">[</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;title&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;ناونیشان&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;content&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;ناوەڕۆک&#39;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;ckb&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                           <span class="token comment">// Multiple fields, one locale</span></span>
<span class="line"></span>
<span class="line"><span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;title&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;ckb&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// &#39;ناونیشان&#39;</span></span>
<span class="line"><span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token function">translateOrOriginal</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;title&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;fr&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// Fallback to original column</span></span>
<span class="line"><span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token function">getTranslations</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;ckb&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">// [&#39;title&#39; =&gt; &#39;...&#39;, &#39;content&#39; =&gt; &#39;...&#39;]</span></span>
<span class="line"><span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token function">getAllTranslations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">// [&#39;ckb&#39; =&gt; [...], &#39;ar&#39; =&gt; [...]]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="attribute-fallback-order" tabindex="-1"><a class="header-anchor" href="#attribute-fallback-order"><span>Attribute fallback order</span></a></h3><p>When you access <code>$post-&gt;title</code>, Multi-Lang evaluates:</p><ol><li><code>App::getLocale()</code></li><li><code>config(&#39;app.fallback_locale&#39;)</code></li><li>The original column value (<code>posts.title</code>)</li></ol><p>Need the raw attribute without translation? Use <code>$post-&gt;getAttributes()[&#39;title&#39;]</code>.</p><hr><h2 id="helper-functions-facade" tabindex="-1"><a class="header-anchor" href="#helper-functions-facade"><span>Helper functions &amp; facade</span></a></h2><p>Global helpers are always a function call away:</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php"><pre><code class="language-php"><span class="line"><span class="token function">trans_model</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;title&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;ckb&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">trans_model_or_original</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;title&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// current locale with fallback</span></span>
<span class="line"><span class="token function">trans_model_choice</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;visits&#39;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;count&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">get_available_locales</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// e.g. [&#39;en&#39;, &#39;ckb&#39;, &#39;ar&#39;]</span></span>
<span class="line"><span class="token function">has_translations</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;ckb&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// boolean</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Prefer a facade? <code>TheJano\\MultiLang\\Facades\\MultiLang</code> offers the same surface area plus convenience methods to read/set the active locale.</p><hr><h2 id="translation-relationships" tabindex="-1"><a class="header-anchor" href="#translation-relationships"><span>Translation relationships</span></a></h2><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php"><pre><code class="language-php"><span class="line"><span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token property">translations</span><span class="token punctuation">;</span>                              <span class="token comment">// Collection of Translation models</span></span>
<span class="line"><span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token function">translations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;locale&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;ckb&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>The relationship is polymorphic (<code>translatable_type</code>, <code>translatable_id</code>) so you can reuse the same translations table across multiple models.</p><hr><h2 id="soft-deletes-by-default" tabindex="-1"><a class="header-anchor" href="#soft-deletes-by-default"><span>Soft deletes by default</span></a></h2><p>Every translation is soft deletable. Calling <code>setTranslation()</code> on a previously soft-deleted row automatically restores it. You can safely remove locales, re-import them, or prune old data without losing historical context.</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php"><pre><code class="language-php"><span class="line"><span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token function">deleteTranslation</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;title&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;ckb&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// marks row deleted</span></span>
<span class="line"><span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token function">setTranslation</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;title&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;ناونیشان&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;ckb&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// restores + updates</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="pluralisation-helpers" tabindex="-1"><a class="header-anchor" href="#pluralisation-helpers"><span>Pluralisation helpers</span></a></h2><p>Store Laravel-style choice strings directly in your translations:</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php"><pre><code class="language-php"><span class="line"><span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token function">setTranslation</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;visits&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;{0}No visits|{1}One visit|[2,*]:count visits&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;en&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token function">translatePlural</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;visits&#39;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// &quot;No visits&quot;</span></span>
<span class="line"><span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token function">translatePlural</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;visits&#39;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;count&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;5 visits&quot;</span></span>
<span class="line"><span class="token function">trans_model_choice</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;visits&#39;</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;count&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Helpers fall back to the original attribute if no pluralised translation exists.</p><hr><h2 id="quick-debugging-tips" tabindex="-1"><a class="header-anchor" href="#quick-debugging-tips"><span>Quick debugging tips</span></a></h2><ul><li><strong>Tinker-friendly</strong>: <code>php artisan tinker</code> + <code>$post-&gt;translate(&#39;field&#39;, &#39;locale&#39;)</code> is the fastest way to verify your setup.</li><li><strong>Guard your fields</strong>: accessing or writing to a field not present in <code>translatableFields</code> throws an <code>InvalidArgumentException</code>.</li><li><strong>Keep caches fresh</strong>: after running imports or bulk updates, either call <code>Post::resetTranslationCacheStore()</code> or simply read translations—they automatically invalidate per-model caches.</li></ul>`,38)),l("p",null,[s[1]||(s[1]=n("With these fundamentals out of the way, continue to ",-1)),o(a,{to:"/guide/querying.html"},{default:i(()=>[...s[0]||(s[0]=[n("Querying Translations",-1)])]),_:1}),s[2]||(s[2]=n(" to see how you can slice and dice translated content with fluent scopes.",-1))])])}const h=t(u,[["render",d]]),m=JSON.parse('{"path":"/guide/core-concepts.html","title":"Core Concepts","lang":"en-US","frontmatter":{"title":"Core Concepts"},"git":{"updatedTime":1762818033000,"contributors":[{"name":"Pshtiwan Mahmood","username":"","email":"kardoey@gmail.com","commits":1}],"changelog":[{"hash":"6f1865987fc5bf0bd26664c58f95973ad57c7533","time":1762818033000,"email":"kardoey@gmail.com","author":"Pshtiwan Mahmood","message":"2nd Version"}]},"filePathRelative":"guide/core-concepts.md"}');export{h as comp,m as data};
