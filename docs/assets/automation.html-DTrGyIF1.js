import{_ as e,c as t,a as l,b as o,d as n,e as i,w as p,r as c,o as r}from"./app-Bbg022uk.js";const d={};function u(m,s){const a=c("RouteLink");return r(),t("div",null,[s[3]||(s[3]=l(`<h1 id="automation-cli" tabindex="-1"><a class="header-anchor" href="#automation-cli"><span>Automation &amp; CLI</span></a></h1><p>Laravel Multi-Lang includes first-party Artisan commands that make it easy to audit, export, and import translations. Combine them with scheduled tasks, CI pipelines, or external translation services.</p><hr><h2 id="multi-lang-audit" tabindex="-1"><a class="header-anchor" href="#multi-lang-audit"><span><code>multi-lang:audit</code></span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">php artisan multi-lang:audit <span class="token string">&quot;App\\Models\\Post&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--locales</span><span class="token operator">=</span>ckb,ar <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--fields</span><span class="token operator">=</span>title,content <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--chunk</span><span class="token operator">=</span><span class="token number">100</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--detailed</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Options</strong></p><ul><li><code>--locales=</code> Overrides the locales to inspect (defaults to <code>config(&#39;app.supported_locales&#39;)</code> or <code>[app.locale, fallback_locale]</code>).</li><li><code>--fields=</code> Restrict the audit to specific translatable fields.</li><li><code>--chunk=</code> Adjusts chunk size (defaults to 100).</li><li><code>--detailed</code> Outputs each missing record (model ID, locale, field).</li></ul><p><strong>Use cases</strong></p><ul><li>Failing CI builds when new models ship without translations.</li><li>Scheduled dashboards or Slack alerts summarising localisation coverage.</li></ul><hr><h2 id="multi-lang-export" tabindex="-1"><a class="header-anchor" href="#multi-lang-export"><span><code>multi-lang:export</code></span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">php artisan multi-lang:export <span class="token string">&quot;App\\Models\\Post&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--locales</span><span class="token operator">=</span>ckb,ar <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--path</span><span class="token operator">=</span>storage/app/posts.json <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--missing</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--chunk</span><span class="token operator">=</span><span class="token number">200</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Options</strong></p><ul><li><code>--ids=</code> Limit the export to specific model IDs.</li><li><code>--locales=</code> Decide which locales to include.</li><li><code>--chunk=</code> Process records in batches (default 100).</li><li><code>--missing</code> Export only the fields/locales that are currently empty—source text is included as a placeholder.</li><li><code>--path=</code> Destination file (JSON).</li></ul><p><strong>Example scheduled snapshot</strong></p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php"><pre><code class="language-php"><span class="line"><span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">schedule</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Schedule</span> <span class="token variable">$schedule</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">void</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token variable">$schedule</span><span class="token operator">-&gt;</span><span class="token function">command</span><span class="token punctuation">(</span></span>
<span class="line">        <span class="token string single-quoted-string">&#39;multi-lang:export &quot;App\\Models\\Post&quot; --locales=ckb,ar --path=storage/app/exports/posts.json&#39;</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">weeklyOn</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;23:00&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Upload the JSON to S3 or your translation vendor and you now have a weekly archive of content.</p><hr><h2 id="multi-lang-import" tabindex="-1"><a class="header-anchor" href="#multi-lang-import"><span><code>multi-lang:import</code></span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">php artisan multi-lang:import <span class="token string">&quot;App\\Models\\Post&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--path</span><span class="token operator">=</span>storage/app/posts.json <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--strategy</span><span class="token operator">=</span>merge <span class="token punctuation">\\</span></span>
<span class="line">  --only-missing <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--chunk</span><span class="token operator">=</span><span class="token number">200</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Options</strong></p><ul><li><code>--strategy=merge</code> Update provided locales/fields without deleting others (default).</li><li><code>--strategy=replace</code> Sync locales/fields and remove translations not present in the payload.</li><li><code>--only-missing</code> Apply translations only where values are currently empty (useful when merging human-vetted content).</li><li><code>--chunk=</code> Control memory usage for large imports.</li></ul><p><strong>JSON schema</strong></p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;123&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;ckb&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ناونیشان&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ناوەڕۆک&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;ar&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;عنوان&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="tips-patterns" tabindex="-1"><a class="header-anchor" href="#tips-patterns"><span>Tips &amp; patterns</span></a></h2><ul><li><strong>Translation vendor loop</strong>: export with <code>--missing</code>, send to translators, re-import with <code>--only-missing</code> to avoid overwriting reviewed content.</li><li><strong>CI validation</strong>: run <code>multi-lang:audit</code> after migrations or seeders to block deployments that introduce unlocalised fields.</li><li><strong>Queue friendly</strong>: wrap export/import commands in queued jobs when handling millions of rows—each command honours the <code>--chunk</code> setting.</li><li><strong>Notifications</strong>: dispatch events or notifications after imports to alert product teams that new UI copy is live.</li></ul>`,27)),o("p",null,[s[1]||(s[1]=n("Continue to ",-1)),i(a,{to:"/guide/extensibility.html"},{default:p(()=>[...s[0]||(s[0]=[n("Extensibility & Integrations",-1)])]),_:1}),s[2]||(s[2]=n(" to see how you can plug these workflows into custom cache stores, middleware, and observers.",-1))])])}const v=e(d,[["render",u]]),g=JSON.parse('{"path":"/guide/automation.html","title":"Automation & CLI","lang":"en-US","frontmatter":{"title":"Automation & CLI"},"git":{"updatedTime":1762818033000,"contributors":[{"name":"Pshtiwan Mahmood","username":"","email":"kardoey@gmail.com","commits":1}],"changelog":[{"hash":"6f1865987fc5bf0bd26664c58f95973ad57c7533","time":1762818033000,"email":"kardoey@gmail.com","author":"Pshtiwan Mahmood","message":"2nd Version"}]},"filePathRelative":"guide/automation.md"}');export{v as comp,g as data};
