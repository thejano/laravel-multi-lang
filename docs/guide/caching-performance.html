<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <meta name="theme-color" content="#0f172a"><link rel="icon" href="https://avatars.githubusercontent.com/u/108210034?v=4"><title>Caching & Performance | Laravel Multi-Lang</title><meta name="description" content="Polymorphic translations for Laravel models with caching, helpers, CLI tooling, and documentation.">
    <link rel="preload" href="/assets/style-C5QREZ3P.css" as="style"><link rel="stylesheet" href="/assets/style-C5QREZ3P.css">
    <link rel="modulepreload" href="/assets/app-DeSQkU7Q.js"><link rel="modulepreload" href="/assets/caching-performance.html-BaZJWp1r.js">
    <link rel="prefetch" href="/assets/index.html-C7eTHtGb.js" as="script"><link rel="prefetch" href="/assets/automation.html-_dM-ajYa.js" as="script"><link rel="prefetch" href="/assets/core-concepts.html-FMsuNYZ4.js" as="script"><link rel="prefetch" href="/assets/extensibility.html-DNR9trBZ.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-BgBQpBs_.js" as="script"><link rel="prefetch" href="/assets/managing-translations.html-BMRSf8Pm.js" as="script"><link rel="prefetch" href="/assets/middleware.html-BN-tQ7TT.js" as="script"><link rel="prefetch" href="/assets/overview.html-DkJ-AAAv.js" as="script"><link rel="prefetch" href="/assets/querying.html-gfCGOgaO.js" as="script"><link rel="prefetch" href="/assets/testing.html-CGn5fAZR.js" as="script"><link rel="prefetch" href="/assets/404.html-MPNfzbr0.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="https://avatars.githubusercontent.com/u/108210034?v=4" alt="Laravel Multi-Lang"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Laravel Multi-Lang</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/guide/overview.html" aria-label="Overview"><!--[--><!--[--><!--]--><!--]-->Overview<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Core"><span class="title">Core</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Core"><span class="title">Core</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/getting-started.html" aria-label="Getting Started"><!--[--><!--[--><!--]--><!--]-->Getting Started<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/core-concepts.html" aria-label="Core Concepts"><!--[--><!--[--><!--]--><!--]-->Core Concepts<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/querying.html" aria-label="Querying Translations"><!--[--><!--[--><!--]--><!--]-->Querying Translations<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/managing-translations.html" aria-label="Managing Translations"><!--[--><!--[--><!--]--><!--]-->Managing Translations<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/guide/caching-performance.html" aria-label="Caching &amp; Performance"><!--[--><!--[--><!--]--><!--]-->Caching &amp; Performance<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Automation"><span class="title">Automation</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Automation"><span class="title">Automation</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/automation.html" aria-label="Automation &amp; CLI"><!--[--><!--[--><!--]--><!--]-->Automation &amp; CLI<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/extensibility.html" aria-label="Extensibility &amp; Integrations"><!--[--><!--[--><!--]--><!--]-->Extensibility &amp; Integrations<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/testing.html" aria-label="Testing &amp; QA"><!--[--><!--[--><!--]--><!--]-->Testing &amp; QA<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/thejano/laravel-multi-lang" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/guide/overview.html" aria-label="Overview"><!--[--><!--[--><!--]--><!--]-->Overview<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Core"><span class="title">Core</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Core"><span class="title">Core</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/getting-started.html" aria-label="Getting Started"><!--[--><!--[--><!--]--><!--]-->Getting Started<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/core-concepts.html" aria-label="Core Concepts"><!--[--><!--[--><!--]--><!--]-->Core Concepts<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/querying.html" aria-label="Querying Translations"><!--[--><!--[--><!--]--><!--]-->Querying Translations<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/managing-translations.html" aria-label="Managing Translations"><!--[--><!--[--><!--]--><!--]-->Managing Translations<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/guide/caching-performance.html" aria-label="Caching &amp; Performance"><!--[--><!--[--><!--]--><!--]-->Caching &amp; Performance<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Automation"><span class="title">Automation</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Automation"><span class="title">Automation</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/automation.html" aria-label="Automation &amp; CLI"><!--[--><!--[--><!--]--><!--]-->Automation &amp; CLI<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/extensibility.html" aria-label="Extensibility &amp; Integrations"><!--[--><!--[--><!--]--><!--]-->Extensibility &amp; Integrations<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/testing.html" aria-label="Testing &amp; QA"><!--[--><!--[--><!--]--><!--]-->Testing &amp; QA<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/thejano/laravel-multi-lang" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Start Here <!----></p><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/overview.html" aria-label="Overview"><!--[--><!--[--><!--]--><!--]-->Overview<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/getting-started.html" aria-label="Getting Started"><!--[--><!--[--><!--]--><!--]-->Getting Started<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/core-concepts.html" aria-label="Core Concepts"><!--[--><!--[--><!--]--><!--]-->Core Concepts<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">Working with Translations <!----></p><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/querying.html" aria-label="Querying Translations"><!--[--><!--[--><!--]--><!--]-->Querying Translations<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/managing-translations.html" aria-label="Managing Translations"><!--[--><!--[--><!--]--><!--]-->Managing Translations<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/middleware.html" aria-label="Locale Middleware"><!--[--><!--[--><!--]--><!--]-->Locale Middleware<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/guide/caching-performance.html" aria-label="Caching &amp; Performance"><!--[--><!--[--><!--]--><!--]-->Caching &amp; Performance<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Operations &amp; Scale <!----></p><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/automation.html" aria-label="Automation &amp; CLI"><!--[--><!--[--><!--]--><!--]-->Automation &amp; CLI<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/extensibility.html" aria-label="Extensibility &amp; Integrations"><!--[--><!--[--><!--]--><!--]-->Extensibility &amp; Integrations<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/testing.html" aria-label="Testing &amp; QA"><!--[--><!--[--><!--]--><!--]-->Testing &amp; QA<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="caching-performance" tabindex="-1"><a class="header-anchor" href="#caching-performance"><span>Caching &amp; Performance</span></a></h1><p>Translation-heavy apps can grind to a halt if each lookup triggers a database query. This guide shows you how to keep translations fast—from eager loading to shared caches and performance tuning.</p><hr><h2 id="eager-loading-translations" tabindex="-1"><a class="header-anchor" href="#eager-loading-translations"><span>Eager loading translations</span></a></h2><p>Avoid N+1 queries by pre-fetching the locales you need:</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php"><pre><code class="language-php"><span class="line"><span class="token comment">// Single locale</span></span>
<span class="line"><span class="token variable">$posts</span> <span class="token operator">=</span> <span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token function">withTranslations</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;ckb&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Multiple locales</span></span>
<span class="line"><span class="token variable">$posts</span> <span class="token operator">=</span> <span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token function">withTranslations</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;ckb&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;ar&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Every locale available</span></span>
<span class="line"><span class="token variable">$posts</span> <span class="token operator">=</span> <span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token function">withAllTranslations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Lazy eager load on an existing model</span></span>
<span class="line"><span class="token variable">$post</span> <span class="token operator">=</span> <span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token variable">$post</span><span class="token operator">-&gt;</span><span class="token function">loadTranslations</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;ckb&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;ar&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Each method hydrates the <code>translations</code> relationship and primes the in-memory cache so future calls to <code>translate()</code> or attribute access do not hit the database.</p><blockquote><p><strong>Heads up:</strong> When you eager load translations and later access a primary locale (your <code>config(&#39;app.locale&#39;)</code>, fallback, or current <code>App::getLocale()</code>), the package now reuses that eager-loaded payload. If the locale is missing in the collection, the original model attribute is returned without issuing another query. This keeps base-language reads as cheap as possible while still fetching real translations on demand.</p></blockquote><hr><h2 id="per-model-caching" tabindex="-1"><a class="header-anchor" href="#per-model-caching"><span>Per-model caching</span></a></h2><p>The trait maintains an in-memory cache for translations on each model instance:</p><ul><li>Accessing a translation populates the cache.</li><li>Subsequent reads during the same request are free.</li><li>Calling any mutation method (<code>setTranslation</code>, <code>setTranslations</code>, <code>setTranslationsBatch</code>, <code>deleteTranslation</code>, etc.) clears the cache automatically.</li></ul><hr><h2 id="shared-cache-stores" tabindex="-1"><a class="header-anchor" href="#shared-cache-stores"><span>Shared cache stores</span></a></h2><p>To persist translations across requests, configure a <code>TranslationCacheStore</code>. The package ships with two implementations:</p><ol><li><code>ArrayTranslationCacheStore</code> – in-memory, primarily for testing.</li><li><code>CacheTranslationCacheStore</code> – wraps any Laravel cache driver (Redis, Memcached, Dynamo, etc.).</li></ol><h3 id="configure-via-config-multi-lang-php" tabindex="-1"><a class="header-anchor" href="#configure-via-config-multi-lang-php"><span>Configure via <code>config/multi-lang.php</code></span></a></h3><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php"><pre><code class="language-php"><span class="line"><span class="token string single-quoted-string">&#39;cache_store&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;driver&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;redis&#39;</span><span class="token punctuation">,</span>                 <span class="token comment">// null uses the default cache store</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;prefix&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;multi_lang:translations&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;ttl&#39;</span>    <span class="token operator">=&gt;</span> <span class="token number">3600</span><span class="token punctuation">,</span>                    <span class="token comment">// seconds; null = forever</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="configure-at-runtime" tabindex="-1"><a class="header-anchor" href="#configure-at-runtime"><span>Configure at runtime</span></a></h3><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php"><pre><code class="language-php"><span class="line"><span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token function">setTranslationCacheStore</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CacheTranslationCacheStore</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token function">cache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;redis&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token argument-name">prefix</span><span class="token punctuation">:</span> <span class="token string single-quoted-string">&#39;multi_lang:translations&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token argument-name">ttl</span><span class="token punctuation">:</span> <span class="token number">3600</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Reset to default (per-model cache only)</span></span>
<span class="line"><span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token function">resetTranslationCacheStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can implement your own store by satisfying the <code>TranslationCacheStore</code> interface (see <a class="route-link" href="/guide/extensibility.html">Extensibility &amp; Integrations</a>).</p><hr><h2 id="priming-and-invalidation" tabindex="-1"><a class="header-anchor" href="#priming-and-invalidation"><span>Priming and invalidation</span></a></h2><ul><li><strong>Priming</strong>: call <code>$post-&gt;getTranslations(&#39;ckb&#39;)</code> after eager loading to ensure the payload is cached (helpful before queueing a job).</li><li><strong>Invalidation</strong>: all write operations clear per-model caches and call <code>forget()</code> on the external store if configured. You rarely need to flush caches manually, but <code>Post::resetTranslationCacheStore()</code> is handy in tests.</li></ul><hr><h2 id="performance-checklist" tabindex="-1"><a class="header-anchor" href="#performance-checklist"><span>Performance checklist</span></a></h2><ol><li><strong>Use eager loading</strong> whenever you render lists or tables of translated models.</li><li><strong>Index wisely</strong>: keep the built-in composite indexes (<code>translatable_type/translatable_id/locale/field</code> and <code>locale/field</code>) to maintain query speed.</li><li><strong>Batch updates</strong>: prefer <code>setTranslationsBatch()</code> to reduce database chatter during imports or admin workflows.</li><li><strong>Prune soft deletes</strong>: schedule a job to remove old soft-deleted rows if your table grows into the millions.</li><li><strong>Audit regularly</strong>: run <code>multi-lang:audit</code> in CI to catch missing translations before they reach production.</li><li><strong>Monitor the cache</strong>: use cache tags or metrics to confirm translations are hitting the shared store as expected.</li></ol><hr><h2 id="troubleshooting" tabindex="-1"><a class="header-anchor" href="#troubleshooting"><span>Troubleshooting</span></a></h2><table><thead><tr><th>Symptom</th><th>Likely cause</th><th>Quick fix</th></tr></thead><tbody><tr><td>Too many queries</td><td>Missing eager loading</td><td>Call <code>withTranslations()</code> or <code>loadTranslations()</code> for required locales.</td></tr><tr><td>Stale translations</td><td>Cache not invalidated</td><td>Ensure writes go through package helpers; call <code>resetTranslationCacheStore()</code> after custom import scripts.</td></tr><tr><td>Cache never hit</td><td>Shared store misconfigured</td><td>Confirm <code>config(&#39;multi-lang.cache_store&#39;)</code> is set correctly and the driver has permission.</td></tr><tr><td>Slow audit/export</td><td>Chunk size too large</td><td>Pass <code>--chunk=</code> to Artisan commands to balance memory and speed.</td></tr></tbody></table><p>With performance tuned, continue to <a class="route-link" href="/guide/automation.html">Automation &amp; CLI</a> to automate audits, exports, and imports.</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><time class="meta-item-info" datetime="2025-11-10T23:40:33.000Z" data-allow-mismatch>11/11/25, 2:40 AM</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: kardoey@gmail.com">Pshtiwan Mahmood</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/guide/middleware.html" aria-label="Locale Middleware"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span class="external-link">Locale Middleware</span></div><!--]--></a><!----></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-DeSQkU7Q.js" defer></script>
  </body>
</html>
